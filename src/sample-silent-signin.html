<!DOCTYPE html>
<html>
  <head>
    <title>Trinsic OIDC Tester</title>
    <link rel="stylesheet" href="./App.css" />
  </head>

  <body>
    <script
      type="module"
      id="trinsic-oidc"
      src="https://unpkg.com/trinsic-oidc-client-ts@0.0.7/dist/browser/oidc-client-ts.js"
    ></script>
    <script async="false" defer>
      document.querySelector('#trinsic-oidc').addEventListener('load', () => {
        window.OIDCSettings = {
          popup_redirect_uri: `${window.location.origin}/sample-popup-signin.html`,
        }
        new window.oidc.UserManager(window.OIDCSettings)
          .signinSilentCallback()
          .then(function () {
            log('signin popup callback response success')
          })
          .catch(function (err) {
            console.error(err)
            log(err)
          })
      })
    </script>
  </body>
</html>
