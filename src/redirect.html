<!DOCTYPE html>
<html>
  <head>
    <title>Trinsic OIDC Tester</title>
    <link rel="stylesheet" href="./App.css" />
  </head>

  <body>
    <script
      type="module"
      id="trinsic-oidc"
      src="https://unpkg.com/trinsic-oidc-client-ts@0.0.9/dist/browser/oidc-client-ts.js"
    ></script>
    <script async="false" defer>
      document.querySelector('#trinsic-oidc').addEventListener('load', () => {
        const popupCallback = async (userManager) =>
          userManager.signinPopupCallback()
        const iframeCallback = async (userManager) =>
          userManager.signinSilentCallback()
        const callback = (userManager) => {
          popupCallback(userManager)
          iframeCallback(userManager)
        }
        callback(new window.oidc.UserManager())
      })
    </script>
  </body>
</html>
